# 瞑想+メモ書き

瞑想とメモ書きの記録アプリ

## 特徴

- **瞑想タイマー**: デフォルト5分（設定で変更可能）、シンプルなUIで集中力を維持
- **メモ書きタイマー**: 1分×10ページ形式（1ページあたりの時間は設定で変更可能）
- **設定機能**: 瞑想とメモ書きの時間を個別に設定可能
- **記録管理**: LocalStorageで自動保存
- **統計表示**: 連続記録日数、合計回数、合計時間
- **履歴閲覧**: 過去のセッションを一覧表示

## 技術スタック

- Next.js 15 (App Router)
- TypeScript
- Tailwind CSS
- LocalStorage (データ永続化)

## 開発環境のセットアップ

```bash
# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

ブラウザで `http://localhost:3000` を開きます。

## ビルド

```bash
# プロダクションビルド
npm run build

# プロダクションサーバーの起動
npm start
```

## 機能詳細

### 瞑想タイマー（紫テーマ）
- デフォルト5分（集中するため時間選択は非表示）
- 一時停止・再開機能
- 完了時に音でお知らせ
- セッション記録の自動保存
- 設定から時間を変更可能（1, 3, 5, 10, 15, 20, 30分）

### メモ書きタイマー（青テーマ）
- 1分×10ページ形式で自動進行（紙に書き出すためメモ欄なし）
- 終了5秒前からピッピとカウントダウン音
- ページ終了時に完了音でお知らせ
- ページ間に10秒の休憩時間（再開5秒前からカウントダウン）
- ページ進行状況のビジュアル表示（書き込み中は青、休憩中は黄色）
- 設定から1ページあたりの時間を変更可能（30秒, 1分, 1.5分, 2分, 3分）
- 設定から休憩時間を変更可能（5秒, 10秒, 15秒, 20秒, 30秒）

### 設定
- 瞑想時間の変更
- メモ書き時間（1ページあたり）の変更
- 休憩時間（ページ間）の変更
- LocalStorageに保存

### 履歴・統計
- 連続記録日数（ストリーク）
- 瞑想回数とメモ書き回数
- 合計時間の表示
- 記録の一覧表示と削除機能

## 今後の拡張予定

- [ ] 呼吸スコアリング機能
- [ ] カレンダー表示
- [ ] データのエクスポート/インポート
- [ ] ダークモード切り替え
- [ ] カスタマイズ可能な音声
- [ ] モバイル対応の最適化

## ライセンス

MIT

2026-0203-1034-MEMO

❯ 以降はAIがルールを守る運用や、開発のワークフローを見直して提案して。                                                                     
                                                                                                                                           
⏺ 今回の根本原因を分析してから、見直し案を提案します。                                                                                     
                                                                                                                                           
⏺ Explore(現在のワークフロー記述の調査) Haiku 4.5                                                                                          
  ⎿  Done (3 tool uses · 34.5k tokens · 27s)                                                                                               
                                                                                                                                           
⏺ 調査完了です。根本原因と見直し案を提案します。                                                                                           
                                                                                                                                           
  ---                                                                                                                                      
  根本原因                                                                                                                                 
                                                                                                                                           
  現在のワークフロー記述は 「Issue対応時」のみを想定しています。                                                                           
  ┌───────────────────────┬────────────────────────────┬─────────────────────────────┐                                                     
  │      変更の種類       │         現在の手順         │            結果             │                                                     
  ├───────────────────────┼────────────────────────────┼─────────────────────────────┤                                                     
  │ Issue対応（機能開発） │ feature/* → develop → main │ ✅ 明確                     │                                                     
  ├───────────────────────┼────────────────────────────┼─────────────────────────────┤                                                     
  │ ドキュメント変更      │ 未定義                     │ ❌ mainに直接コミットが許容 │                                                     
  ├───────────────────────┼────────────────────────────┼─────────────────────────────┤                                                     
  │ サブエージェント追加  │ 未定義                     │ ❌ 同上                     │                                                     
  ├───────────────────────┼────────────────────────────┼─────────────────────────────┤                                                     
  │ 緊急修正              │ 未定義                     │ ❌ 同上                     │                                                     
  └───────────────────────┴────────────────────────────┴─────────────────────────────┘                                                     
  また、「mainに直接コミットしない」という明示的な禁止事項も記述されていません。                                                           
                                                                                                                                           
  ---                                                                                                                                      
  見直し提案                                                                                                                               
                                                                                                                                           
  1. 変更種類ごとのブランチポリシー                                                                                                        
  ┌────────────────────────────────────┬─────────────────────────────┬────────────────┐                                                    
  │             変更の種類             │          ブランチ           │      PR先      │                                                    
  ├────────────────────────────────────┼─────────────────────────────┼────────────────┤                                                    
  │ 機能開発                           │ feature/issue-X-description │ develop        │                                                    
  ├────────────────────────────────────┼─────────────────────────────┼────────────────┤                                                    
  │ バグ修正                           │ bugfix/issue-X-description  │ develop        │                                                    
  ├────────────────────────────────────┼─────────────────────────────┼────────────────┤                                                    
  │ ドキュメント・サブエージェント変更 │ develop                     │ main           │                                                    
  ├────────────────────────────────────┼─────────────────────────────┼────────────────┤                                                    
  │ 緊急修正（リリース済みのバグのみ） │ hotfix/issue-X-description  │ main + develop │                                                    
  └────────────────────────────────────┴─────────────────────────────┴────────────────┘                                                    
  2. mainへのコミット禁止                                                                                                                  
                                                                                                                                           
  - mainに直接コミットは絶対に行わない                                                                                                     
  - 変更は必ず develop か feature/* で行う                                                                                                 
  - main へのマージは PRのみ                                                                                                               
                                                                                                                                           
  3. AIの動作ルール（デフォルト動作の定義）                                                                                                
                                                                                                                                           
  ユーザーが「コミットして」と言った際の動作：                                                                                             
                                                                                                                                           
  1. 現在のブランチを確認                                                                                                                  
  2. mainの場合は警告し、developにチェックアウトしてコミット                                                                               
  3. feature/*の場合はそのままコミット                                                                                                     
  4. PRの作成はユーザー承認後のみ                                                                                                          
                                                                                                                                           
  4. Issue無しの変更フロー（今回のような場合）                                                                                             
                                                                                                                                           
  ユーザー: 「ドキュメントを更新して」                                                                                                     
    ↓                                                                                                                                      
  AI: develop へチェックアウト                                                                                                             
  AI: 変更実装・コミット                                                                                                                   
  AI: develop → main へのPR作成                                                                                                            
    ↓                                                                                                                                      
  ユーザー: 「マージ承認」                                                                                                                 
    ↓                                                                                                                                      
  AI: PRマージ                                                                                                                             
                                                                                                                                           
  ---                                                                                                                                      
  変更対象ファイル                                                                                                                         
  ┌────────────────────────────────────────────────┬──────────────────────────────────────────────────────────────────┐                    
  │                    ファイル                    │                             変更内容                             │                    
  ├────────────────────────────────────────────────┼──────────────────────────────────────────────────────────────────┤                    
  │ CLAUDE.md                                      │ ブランチポリシー・mainコミット禁止・Issue無しワークフロー を追加 │                    
  ├────────────────────────────────────────────────┼──────────────────────────────────────────────────────────────────┤                    
  │ .claude/agents/meditation-journaling-expert.md │ AIの動作ルール（branch確認・警告）を追加                         │                    
  ├────────────────────────────────────────────────┼──────────────────────────────────────────────────────────────────┤                    
  │ .claude/agents/premium-design-expert.md        │ 協調作業時のブランチポリシーを追加                               │                    
  └────────────────────────────────────────────────┴──────────────────────────────────────────────────────────────────┘                    
  ---                                                                                                                                      
  この見直し案で進めますか？
